<template>
  <section>
    <header class="section__head">
      <UiText :classes="['test text--second-color text--bold text--upper']">Dashboard</UiText>
      <UiTitle type="h1" :classes="['title']">–ü—É–±–ª–∏–∫–∞—Ü–∏–∏</UiTitle>
      <a href="#" @click.prevent="addPost" class="link-ctrl"><svg-icon name="add" class="icon-add"/></a>
    </header>

    <div class="b-posts">
      <table>
        <tr>
          <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
          <th>–î–∞—Ç–∞</th>
          <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
          <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        <tr v-for="post in posts" :key="post.id">
          <td>{{post.title}}</td>
          <td>{{post.date}}</td>
          <td>{{post.category}}</td>
          <td>
            <NuxtLink :to="'/admin/publics/' + post.id"><svg-icon name="edit" class="icon-edit"/></NuxtLink>
            <a href="#" @click="deletePost(post.id)"><svg-icon name="delete" class="icon-delete"/></a>
          </td>
        </tr>
      </table>
    </div>
  </section>
</template>

<script>
import UiText from '~/components/atoms/Text'
import UiTitle from '~/components/atoms/Title'

export default {
  components: {
    UiTitle,
    UiText
  },
  data: ()=>({
    posts: [
      {
        id: 1,
        title: 'How to Use SVG Sprites with NuxtJS',
        date: '11.11.2012',
        category: '–ë–ª–æ–≥'
      },
      {
        id: 2,
        title: '–õ—é–¥–∏ –Ω–∞ –ø–æ–ª–Ω–æ–º —Å–µ—Ä—å—ë–∑–µ –æ–±—Å—É–∂–¥–∞—é—Ç, –∫—É–¥–∞ –≤–∞–ª–∏—Ç—å –∏–∑ –ê–º–µ—Ä–∏–∫–∏',
        date: '11.11.2012',
        category: '–ë–ª–æ–≥'
      },
      {
        id: 3,
        title: '–ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ –ê—Ä–∞–±—Å–∫–æ–≥–æ –º–∏—Ä–∞: –∫—Ç–æ –≤–∏–Ω–æ–≤–∞—Ç –∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å?',
        date: '11.11.2012',
        category: '–ë–ª–æ–≥'
      },
      {
        id: 4,
        title: '–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∞—è –≥–æ–Ω–∫–∞ –≤ –°–®–ê –ø–æ–¥–æ—à–ª–∞ –∫ —Ñ–∏–Ω–∞–ª—É',
        date: '11.11.2012',
        category: '–ë–ª–æ–≥'
      },
      {
        id: 5,
        title: '–û—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ —Ä—É–∫—É –¥–µ–º–æ–∫—Ä–∞—Ç–∞–º —Å—ã–≥—Ä–∞–ª –ø—Ä–æ–≤–∞–ª –¢—Ä–∞–º–ø–∞ –≤ –±–æ—Ä—å–±–µ —Å COVID-19.',
        date: '11.11.2012',
        category: '–ë–ª–æ–≥'
      },
    ]
  }),
  methods: {
    deletePost(id){
      console.log("%c üêù: deletePost -> id ", "font-size:16px;background-color:#1c5a31;color:white;", id)
    },
    addPost(){
      this.$router.push('/admin/publics/add')
    }
  }
}
</script>

<style lang="scss">
  .section__head {
    margin-bottom: 30px;
    position: relative;
  }
  .link-ctrl {
    position: absolute;
    right: 0;
    bottom: 0;
    display: inline-block;
    width: 24px;
    height: 24px;
  }
</style>